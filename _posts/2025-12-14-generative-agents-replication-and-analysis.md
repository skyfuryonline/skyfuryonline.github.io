---
layout: post
title: "Generative Agentså¤ç°ä¸åˆ†æ"
date: 2025-12-14
author: "LH"
tags: [NLP, Agent, å¤ç°, LLM,]
group: nlp-workshop 
catalog: true
---

## æ‘˜è¦

![structure](/img/nlp-workshop/generative-agents-analysis/structure.png)

- é¡¹ç›®ä»‹ç»ï¼šåŒ…å«ç”¨äºç”Ÿæˆå¼æ™ºèƒ½ä½“ï¼ˆä¸€ç§èƒ½å¤Ÿæ¨¡æ‹Ÿé€¼çœŸäººç±»è¡Œä¸ºçš„è®¡ç®—æ™ºèƒ½ä½“ï¼‰çš„æ ¸å¿ƒæ¨¡æ‹Ÿæ¨¡å—åŠå…¶æ¸¸æˆç¯å¢ƒã€‚ä»¥ä¸‹å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šè®¾ç½®æ¨¡æ‹Ÿç¯å¢ƒï¼Œä»¥åŠå¦‚ä½•å°†æ¨¡æ‹Ÿç»“æœä»¥æ¼”ç¤ºåŠ¨ç”»çš„å½¢å¼å›æ”¾ã€‚
- é¡¹ç›®å‚è€ƒï¼š
  - [origin-generative_agents](https://github.com/joonspk-research/generative_agents)
  - [origin-Generative Agents: Interactive Simulacra of Human Behavior](https://arxiv.org/abs/2304.03442)
  - [GenerativeAgentsCN](https://github.com/x-glacier/GenerativeAgentsCN)
  - [æˆ‘è®©å…­ä¸ªAIåˆç§Ÿï¼Œå±…ç„¶å‡ºäº†ä¸ªæµ·ç‹ï¼Ÿ](https://www.bilibili.com/video/BV1MkxeeYEEb)
- ä¸»è¦ç›®æ ‡ï¼š
  - [x] ç†è§£é¡¹ç›®ä»£ç åŠè¿è¡ŒåŸç†
  - [x] ä¿®æ”¹ä¸ºvLLMæ”¯æŒå¹¶è®¾ç½®æœ¬åœ°çš„LLMså’Œembedding æ¨¡å‹
  - [x] [ç›¸å…³å¤ç°ä»£ç ](https://github.com/skyfuryonline/GenerativeAgentsCN_remix) 

---

## è¿è¡Œç¯å¢ƒé…ç½®åŠvLLMæ”¯æŒ

- æ‹·è´é¡¹ç›®å¹¶åˆ›å»ºç¯å¢ƒ

```bash
git clone https://github.com/x-glacier/GenerativeAgentsCN.git

cd GenerativeAgentsCN

conda create -n generative_agents_cn python=3.12
conda activate generative_agents_cn

pip install -U uv
uv pip install -r requirements.txt
```

- å¯åŠ¨è¿è¡Œï¼ˆé»˜è®¤é¡¹ç›®å¯åŠ¨æ–¹å¼ï¼‰

```bash
cd generative_agents
python start.py --name sim-test --start "20250213-09:30" --step 10 --stride 10
```
- å‚æ•°è¯´æ˜ï¼š
  - name: æ¯æ¬¡å¯åŠ¨è™šæ‹Ÿå°é•‡ï¼Œéœ€è¦è®¾å®šå”¯ä¸€çš„åç§°ï¼Œç”¨äºäº‹åå›æ”¾ã€‚
  - start: è™šæ‹Ÿå°é•‡çš„èµ·å§‹æ—¶é—´ã€‚
  - resume: åœ¨è¿è¡Œç»“æŸæˆ–æ„å¤–ä¸­æ–­åï¼Œä»ä¸Šæ¬¡çš„â€œæ–­ç‚¹â€å¤„ï¼Œç»§ç»­è¿è¡Œè™šæ‹Ÿå°é•‡ã€‚
  - step: åœ¨è¿­ä»£å¤šå°‘æ­¥ä¹‹ååœæ­¢è¿è¡Œã€‚
  - stride: æ¯ä¸€æ­¥è¿­ä»£åœ¨è™šæ‹Ÿå°é•‡ä¸­å¯¹åº”çš„æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰ã€‚å‡å¦‚è®¾å®š--stride 10ï¼Œè™šæ‹Ÿå°é•‡åœ¨è¿­ä»£è¿‡ç¨‹ä¸­çš„æ—¶é—´å˜åŒ–å°†ä¼šæ˜¯ 9:00ï¼Œ9:10ï¼Œ9:20 ...
- ä¿®æ”¹`LLMs`å’Œ`embedding model`çš„ä½ç½®ï¼š`generative_agents/data/config.json`
- `replay`: `python replay.py`
  - é»˜è®¤ç«¯å£ä¸º`5000`ï¼Œè‹¥éœ€è¦ä¿®æ”¹ï¼Œè¿›å…¥`replay`ä¸­è®¾ç½®`app.run(debug=True,port=5050)`
  - å¯ä»¥è¿½åŠ çš„å‚æ•°ï¼š`name`ã€`step`ã€`speed`ã€`zoom`
- `compress`:`python compress.py --name <simulation-name>`
  - è¿è¡Œç»“æŸåå°†åœ¨`results/compressed/<simulation-name>`ç›®å½•ä¸‹ç”Ÿæˆå›æ”¾æ•°æ®æ–‡ä»¶`movement.json`ã€‚åŒæ—¶è¿˜å°†ç”Ÿæˆ`simulation.md`ï¼Œä»¥æ—¶é—´çº¿æ–¹å¼å‘ˆç°æ¯ä¸ªæ™ºèƒ½ä½“çš„çŠ¶æ€åŠå¯¹è¯å†…å®¹

- å¯åŠ¨è¿è¡Œï¼ˆä½¿ç”¨vLLMè¿›è¡Œæ¨ç†ï¼‰
  - æ¨¡å‹å’Œembeddingé…ç½®ä¾æ—§åœ¨`generative_agents/data/config.json`
  - å…ˆä½¿ç”¨æŒ‡ä»¤å¯åŠ¨vLLMæœåŠ¡(`python -m vllm.entrypoints.openai.api_server --model Qwen/Qwen2.5-7B-Instruct`)
  - è¿›å…¥æ–°çš„ç»ˆç«¯å¯åŠ¨åŸå§‹çš„é¡¹ç›®ï¼š`cd generative_agents`->`python start.py --name <simulation-name>`
  - ç¨‹åºç°åœ¨å°†è¿æ¥åˆ°æœ¬åœ°è¿è¡Œçš„ VLLM æœåŠ¡ï¼Œå¹¶ä½¿ç”¨æœ¬åœ°çš„ Hugging Face æ¨¡å‹è¿›è¡Œæ¨¡æ‹Ÿã€‚åç»­çš„ `compress.py` å’Œ `replay.py` æ“ä½œä¸ä¹‹å‰å®Œå…¨ç›¸åŒã€‚
  - æ³¨æ„ï¼šå¯åŠ¨çš„vLLMçš„æ¨¡å‹åä¸`config.json`ä¸­çš„æ¨¡å‹ååº”ä¸€è‡´ï¼Œå¦‚éƒ½ä¸ºï¼š`Qwen/Qwen2.5-7B-Instruct`

- ä¿®æ”¹vLLMä»¥æ”¯æŒï¼š`generative_agents/modules/model/llm_model.py`
  * ä½¿å…¶èƒ½å¤Ÿè¯†åˆ«å¹¶å¤„ç† `vllm` æä¾›è€…ï¼ˆå¤ç”¨ OpenAI å…¼å®¹æ¥å£ï¼‰ã€‚
- ä¿®æ”¹embeddingä»¥æ”¯æŒï¼š`generative_agents/modules/storage/index.py`
  * æ— éœ€æ”¹åŠ¨ï¼›

---

## ç»“æœå±•ç¤ºï¼š

**vLLMé…ç½®ç»“æœå¦‚ä¸‹ï¼ˆé¦–æ¬¡å¯åŠ¨éœ€è¦ä¸‹è½½æ¨¡å‹ï¼‰ï¼š**
![vLLM](/img/nlp-workshop/generative-agents-analysis/vLLM-boot.png)

**å†æ¬¡å¯åŠ¨æ—¶é€Ÿåº¦ä¼šæ˜¾è‘—åŠ å¿«ï¼š**
![vLLM](/img/nlp-workshop/generative-agents-analysis/vLLM-reboot.png)

**å¯åŠ¨é¡¹ç›®æƒ…å†µå¦‚ä¸‹ï¼ˆåŒç†å¯åŠ¨æ—¶éœ€è¦ç»è¿‡embeddingï¼Œéœ€è¦ç­‰å¾…ä¸€å®šæ—¶é—´ï¼‰ï¼š**
![process-0](/img/nlp-workshop/generative-agents-analysis/process-0.png)

![process-1](/img/nlp-workshop/generative-agents-analysis/process-1.png)

**ç»“æŸæ—¶çš„æ€»ç»“è¾“å‡ºï¼š**
![final](/img/nlp-workshop/generative-agents-analysis/final.png)

**ä½¿ç”¨replayå›é¡¾è¿‡ç¨‹ï¼š**
![replay-1](/img/nlp-workshop/generative-agents-analysis/replay-1.png)

![replay-2](/img/nlp-workshop/generative-agents-analysis/replay-2.png)

---

## ä»£ç åˆ†æ

### æ ¸å¿ƒæœºåˆ¶è§£æ

é¡¹ç›®é€šè¿‡ LlamaIndex å®ç°å‘é‡åŒ–çš„è®°å¿†å­˜å‚¨å’Œæ£€ç´¢ï¼Œé€šè¿‡ç²¾å¿ƒè®¾è®¡çš„ prompt é“¾ï¼ˆPrompts Chainingï¼‰æ¥å¼•å¯¼ LLM å®Œæˆåæ€å’Œè§„åˆ’ç­‰é«˜çº§è®¤çŸ¥ä»»åŠ¡ï¼Œå®ç°è®ºæ–‡ä¸­çš„æ ¸å¿ƒåŠŸèƒ½ã€‚

#### è®°å¿†æµ (Memory Stream)

- æè¿°ï¼šè®°å¿†æµæ˜¯æ™ºèƒ½ä½“æ‰€æœ‰ç»éªŒçš„å®Œæ•´è®°å½•ï¼Œå®ƒå°†æ¯ä¸€ä¸ªäº‹ä»¶ã€è§‚å¯Ÿæˆ–æƒ³æ³•éƒ½ä½œä¸ºä¸€ä¸ªâ€œè®°å¿†â€å¯¹è±¡å­˜å‚¨èµ·æ¥ã€‚å½“æ™ºèƒ½ä½“éœ€è¦è¡ŒåŠ¨æ—¶ï¼Œå®ƒä¼šä»è®°å¿†æµä¸­æ£€ç´¢ç›¸å…³çš„è®°å¿†ã€‚æ£€ç´¢æœºåˆ¶ç»¼åˆè€ƒè™‘äº†ä¸‰ä¸ªå› ç´ ï¼š
  - æ–°è¿‘åº¦ (Recency): æœ€è¿‘å‘ç”Ÿçš„äº‹ä»¶å¾—åˆ†æ›´é«˜ã€‚
  - é‡è¦æ€§ (Importance): æ™ºèƒ½ä½“è®¤ä¸ºæ›´é‡è¦çš„äº‹ä»¶å¾—åˆ†æ›´é«˜ï¼ˆç”± LLM ç›´æ¥æ‰“åˆ†ï¼‰ã€‚
  - ç›¸å…³æ€§ (Relevance): ä¸å½“å‰æƒ…å¢ƒæ›´ç›¸å…³çš„äº‹ä»¶å¾—åˆ†æ›´é«˜ï¼ˆé€šè¿‡ embedding ç›¸ä¼¼åº¦è®¡ç®—ï¼‰ã€‚

- ä»£ç ä½ç½®ï¼š`generative_agents/modules/memory/associate.py`
  - è®°å¿†çš„å­˜å‚¨:
    - æ™ºèƒ½ä½“çš„æ‰€æœ‰è®°å¿†ï¼ˆäº‹ä»¶ã€æƒ³æ³•ã€å¯¹è¯ï¼‰éƒ½å°è£…åœ¨ Concept å¯¹è±¡ä¸­ï¼Œå¹¶å­˜å‚¨åœ¨ç”±LlamaIndexç®¡ç†çš„å‘é‡æ•°æ®åº“é‡Œã€‚è¿™åœ¨ Associate.add_node() æ–¹æ³•ä¸­å®ç°ã€‚
    - æ¯æ¬¡æ·»åŠ è®°å¿†æ—¶ï¼Œé™¤äº†è®°å½•äº‹ä»¶æœ¬èº«ï¼Œè¿˜ä¼šè®°å½•å…¶ poignancy (é‡è¦æ€§åˆ†æ•°)ã€åˆ›å»ºæ—¶é—´ createå’Œè®¿é—®æ—¶é—´ accessã€‚
  - è®°å¿†çš„æ£€ç´¢ (Retrieval):
    - é¡¹ç›®ä¸­æœ€èƒ½ä½“ç°è®ºæ–‡æ€æƒ³çš„æ˜¯ AssociateRetrieverç±»ã€‚å½“éœ€è¦æ£€ç´¢è®°å¿†æ—¶ï¼Œè¿™ä¸ªç±»ä¼šè®¡ç®—æ¯ä¸ªè®°å¿†èŠ‚ç‚¹çš„æœ€ç»ˆå¾—åˆ†ã€‚
    - åœ¨ _retrieve æ–¹æ³•ä¸­ï¼Œå®ƒç²¾ç¡®åœ°å®ç°äº†è®ºæ–‡ä¸­çš„ä¸‰å¤§è¯„åˆ†æ ‡å‡†:
      - æ–°è¿‘åº¦ (Recency) åˆ†æ•°ï¼šåŸºäºæœ€åè®¿é—®æ—¶é—´è¿›è¡Œæ’åºï¼Œå¹¶ä½¿ç”¨æŒ‡æ•°è¡°å‡å‡½æ•°è®¡ç®—åˆ†æ•°
      - ç›¸å…³æ€§ (Relevance) åˆ†æ•°ï¼šæ¥è‡ªå‘é‡æ£€ç´¢çš„åŸå§‹ç›¸ä¼¼åº¦åˆ†æ•°
      - é‡è¦æ€§ (Importance) åˆ†æ•°ï¼šç›´æ¥ä½¿ç”¨è®°å¿†ä¸­çš„ "poignancy" å­—æ®µ

#### åæ€ (Reflection)

- æè¿°ï¼šå½“æ™ºèƒ½ä½“ç§¯ç´¯äº†è¶³å¤Ÿå¤šçš„ç»éªŒåï¼Œå®ƒä¼šæš‚åœä¸‹æ¥è¿›è¡Œâ€œåæ€â€ã€‚åæ€æ˜¯ä¸€ä¸ªæ›´é«˜å±‚æ¬¡çš„æ€è€ƒè¿‡ç¨‹ï¼Œæ™ºèƒ½ä½“ä¼šå›é¡¾æœ€è¿‘çš„è®°å¿†ï¼Œæå‡ºä¸€äº›å…³äºè‡ªå·±çš„å…³é”®é—®é¢˜ï¼Œå¹¶å°è¯•å›ç­”è¿™äº›é—®é¢˜ï¼Œä»è€Œå½¢æˆæ›´æŠ½è±¡ã€æ›´é«˜å±‚æ¬¡çš„â€œæ´è§â€ï¼ˆInsightï¼‰ã€‚è¿™ä¸ªæ´è§ä¹Ÿä¼šè¢«å­˜å…¥è®°å¿†æµã€‚åæ€çš„è§¦å‘æ—¶æœºæ˜¯å½“æœ€è¿‘çš„è®°å¿†é‡è¦æ€§åˆ†æ•°ä¹‹å’Œè¶…è¿‡ä¸€ä¸ªé˜ˆå€¼æ—¶ã€‚

- ä»£ç ä½ç½®ï¼š`generative_agents/modules/agent.py`çš„ `think` æ–¹æ³•ä¸­ï¼Œå¹¶åˆ©ç”¨äº†`generative_agents/data/prompts/` ç›®å½•ä¸‹çš„å¤šä¸ª prompt æ–‡ä»¶;
  - è§¦å‘æ—¶æœº:åœ¨ `Agent.think` æ–¹æ³•ä¸­ï¼Œç³»ç»Ÿä¼šæ£€æŸ¥æ™ºèƒ½ä½“è‡ªä¸Šæ¬¡åæ€ä»¥æ¥ï¼Œæ–°äº§ç”Ÿçš„è®°å¿†çš„`poignancy` (é‡è¦æ€§)æ€»å’Œæ˜¯å¦è¶…è¿‡äº†é˜ˆå€¼ `poignancy_max`ï¼ˆåœ¨ config.json ä¸­é…ç½®ï¼Œé»˜è®¤ä¸º 150ï¼‰
  - åæ€è¿‡ç¨‹ (`_reflect()` æ–¹æ³•):
    - ç¬¬ä¸€æ­¥ï¼šç¡®å®šåæ€ä¸»é¢˜ã€‚ç¨‹åºä¼šè°ƒç”¨ LLMï¼Œè®©å®ƒé˜…è¯»æœ€è¿‘çš„ 100 æ¡è®°å¿†ï¼Œå¹¶æå‡º 3ä¸ªæœ€å€¼å¾—æ€è€ƒçš„é«˜å±‚æ¬¡é—®é¢˜ã€‚è¿™æ˜¯é€šè¿‡ `reflect_focus.txt` è¿™ä¸ª prompt å®ç°çš„ã€‚å®ƒä¼šå¼•å¯¼ LLM ç”Ÿæˆé—®é¢˜ã€‚
    - ç¬¬äºŒæ­¥ï¼šç”Ÿæˆæ´è§ (`reflect_insights.txt`)ã€‚ç¨‹åºä¼šéå†ä¸Šä¸€æ­¥ç”Ÿæˆçš„æ¯ä¸ªé—®é¢˜ï¼Œç„¶åï¼š
      - ä½¿ç”¨è¯¥é—®é¢˜ä½œä¸ºå…³é”®è¯ï¼Œå†æ¬¡ä»è®°å¿†æµä¸­æ£€ç´¢ç›¸å…³çš„è®°å¿†ç‰‡æ®µï¼ˆäº‹ä»¶ã€æƒ³æ³•ç­‰ï¼‰ã€‚
      - å°†è¿™äº›ç›¸å…³çš„è®°å¿†ç‰‡æ®µå’Œé—®é¢˜ä¸€èµ·æäº¤ç»™ LLMï¼Œè®© LLMæ ¹æ®è¿™äº›ææ–™è¿›è¡Œæ€»ç»“ï¼Œå¹¶å¾—å‡ºç»“è®ºï¼ˆå³â€œæ´è§â€ï¼‰ã€‚
      - è¿™æ˜¯é€šè¿‡ `reflect_insights.txt` è¿™ä¸ª prompt å®ç°çš„ã€‚
    - ç¬¬ä¸‰æ­¥ï¼šå­˜å‚¨æ´è§ã€‚ç”Ÿæˆçš„â€œæ´è§â€ä¼šè¢«èµ‹äºˆä¸€ä¸ªè¾ƒé«˜çš„é‡è¦æ€§åˆ†æ•°ï¼Œç„¶ååƒæ™®é€šè®°å¿†ä¸€æ ·è¢«å­˜å…¥è®°å¿†æµä¸­ï¼Œä¾›æœªæ¥æ£€ç´¢å’Œè§„åˆ’ä½¿ç”¨ã€‚

#### è§„åˆ’ (Planning)

- æè¿°ï¼šè§„åˆ’èµ‹äºˆæ™ºèƒ½ä½“é•¿æœŸç›®æ ‡å’Œæ‰§è¡Œèƒ½åŠ›ã€‚æ™ºèƒ½ä½“çš„è§„åˆ’æ˜¯åˆ†å±‚è¿›è¡Œçš„ï¼š
   1. é•¿æœŸè§„åˆ’:
      æ¯å¤©æ—©ä¸Šï¼Œæ™ºèƒ½ä½“æ ¹æ®è‡ªå·±çš„èº«ä»½ã€æ€§æ ¼å’Œè¿‡å»çš„ç»éªŒï¼Œåˆ¶å®šä¸€ä¸ªå½“å¤©çš„ç²—ç•¥è®¡åˆ’ï¼ˆä¾‹å¦‚ï¼Œâ€œå†™ä¸€æœ¬ä¹¦â€ã€â€œç»ƒä¹ å‰ä»–â€ï¼‰ã€‚
   2. çŸ­æœŸè§„åˆ’: æ™ºèƒ½ä½“å°†é•¿æœŸè®¡åˆ’åˆ†è§£æˆå…·ä½“çš„è¡ŒåŠ¨æ­¥éª¤ï¼ˆä¾‹å¦‚ï¼Œæ—©ä¸Š 9 ç‚¹å»ä¹¦æˆ¿ï¼Œ10ç‚¹å¼€å§‹å†™ä½œ...ï¼‰ï¼Œå¹¶æŒ‰æ—¶é—´é¡ºåºæ‰§è¡Œã€‚
   3. åŠ¨æ€è°ƒæ•´: æ™ºèƒ½ä½“åœ¨æ‰§è¡Œè®¡åˆ’æ—¶ï¼Œä¼šæ ¹æ®å½“å‰çš„ç¯å¢ƒå’Œä»–äººçš„äº’åŠ¨ï¼ŒåŠ¨æ€åœ°è°ƒæ•´æˆ–ä¸­æ–­è‡ªå·±çš„è®¡åˆ’ã€‚
- ä»£ç ä½ç½®ï¼š`generative_agents/modules/agent.py` å’Œ `generative_agents/modules/memory/schedule.py` å…±åŒå®Œæˆ;
  - ç”Ÿæˆæ—¥åº¦è®¡åˆ’ (`schedule_daily` æ–¹æ³•):
       * åœ¨æ™ºèƒ½ä½“â€œé†’æ¥â€æ—¶ï¼ˆ`_wake_up` æ–¹æ³•ï¼‰ï¼Œä¼šè°ƒç”¨ `_schedule_daily()`ã€‚
       * è¯¥æ–¹æ³•ä½¿ç”¨ `schedule_daily.txt` è¿™ä¸ªpromptï¼Œå°†æ™ºèƒ½ä½“çš„åŸºæœ¬ä¿¡æ¯ï¼ˆå§“åã€æ€§æ ¼ã€æœ€è¿‘çš„æ€»ç»“ï¼‰å’Œå‰ä¸€å¤©çš„æ€»ç»“ä½œä¸ºè¾“å…¥ï¼Œè¦æ±‚ LLMç”Ÿæˆä¸€ä»½å½“å¤©çš„æ€»ä½“è®¡åˆ’ï¼ˆä»¥å°æ—¶ä¸ºå•ä½ï¼‰ã€‚
  - è®¡åˆ’åˆ†è§£ (`_decompose_schedule()` æ–¹æ³•):
       * å½“æ™ºèƒ½ä½“éœ€è¦å†³å®šæ¥ä¸‹æ¥ä¸€ä¸¤ä¸ªå°æ—¶åšä»€ä¹ˆæ—¶ï¼Œå®ƒä¼šè°ƒç”¨ decompose æ–¹æ³•ã€‚
       * è¯¥æ–¹æ³•ä½¿ç”¨ `schedule_decompose.txt` è¿™ä¸ª promptï¼Œå°†æ—¥åº¦è®¡åˆ’ä¸­å½“å‰æ—¶é—´æ®µçš„ä»»åŠ¡ï¼ˆä¾‹å¦‚ï¼Œâ€œ9am:go to the library to write a bookâ€ï¼‰ä½œä¸ºè¾“å…¥ï¼Œè¦æ±‚ LLM å°†å…¶åˆ†è§£ä¸ºæ›´ç²¾ç»†çš„ã€ä»¥ 5-15åˆ†é’Ÿä¸ºå•ä½çš„è¡ŒåŠ¨åºåˆ—ã€‚
  - è®¡åˆ’å­˜å‚¨å’Œç®¡ç†:
       * æ‰€æœ‰ç”Ÿæˆçš„è®¡åˆ’å’Œè¡ŒåŠ¨éƒ½å­˜å‚¨åœ¨ Schedule å¯¹è±¡ä¸­ï¼ˆå®šä¹‰åœ¨`schedule.py`ï¼‰ã€‚è¿™ä¸ªå¯¹è±¡è´Ÿè´£è·Ÿè¸ªæ¯ä¸ªä»»åŠ¡çš„çŠ¶æ€ï¼ˆæœªå¼€å§‹ã€è¿›è¡Œä¸­ã€å·²å®Œæˆï¼‰ã€‚
       * Agent å¯¹è±¡æŒæœ‰ä¸€ä¸ª _schedule æˆå‘˜å˜é‡ï¼Œåœ¨æ¯ä¸ªæ—¶é—´æ­¥ï¼ˆ`_act`æ–¹æ³•ï¼‰éƒ½ä¼šæ£€æŸ¥å½“å‰çš„è®¡åˆ’ï¼Œå¹¶å†³å®šæ˜¯ç»§ç»­å½“å‰è¡ŒåŠ¨ã€å¼€å§‹æ–°è¡ŒåŠ¨è¿˜æ˜¯å¯¹ç¯å¢ƒåšå‡ºååº”ã€‚
  - é‡æ–°è§„åˆ’/ååº” (`_revise_schedule` å’Œ `_react` æ–¹æ³•):
       * å½“æ™ºèƒ½ä½“è§‚å¯Ÿåˆ°æŸä¸ªé‡è¦äº‹ä»¶æ—¶ï¼ˆä¾‹å¦‚ï¼Œæœ‰äººå’Œå®ƒæ‰“æ‹›å‘¼ï¼‰ï¼Œ`_react` æ–¹æ³•ä¼šè¢«è§¦å‘(ç”¨äºå“åº”å¤–éƒ¨äº‹ä»¶)ã€‚
       * ç³»ç»Ÿä¼šåˆ¤æ–­å½“å‰äº‹ä»¶æ˜¯å¦é‡è¦åˆ°éœ€è¦ä¸­æ–­å½“å‰è®¡åˆ’ã€‚å¦‚æœéœ€è¦ï¼Œå®ƒå¯èƒ½ä¼šè°ƒç”¨`_revise_schedule`æ–¹æ³•(ç”¨äºä¿®æ­£è®¡åˆ’)ï¼Œå¹¶ä½¿ç”¨ `schedule_revise.txt` prompt æ¥æ›´æ–°æˆ–è°ƒæ•´åç»­çš„è®¡åˆ’ã€‚

## æ€»ç»“

[Agent-Kernel](https://github.com/ZJU-LLMs/Agent-Kernel)

ZJUåœ¨è¿™ç¯‡è®ºæ–‡çš„åŸºç¡€ä¸Šï¼Œå‘å¸ƒäº†ä¸€ä¸ªå…³äºåŸºäºLLMçš„è‡ªé€‚åº”ç¤¾ä¼šä»¿çœŸå¾®æ ¸å¤šæ™ºèƒ½ä½“ç³»ç»Ÿæ¡†æ¶ã€‚å’Œè¿™ä¸ªå·¥ä½œçš„åŒºåˆ«ä¸ºï¼š
- å®ç°ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œåªæ˜¯â€œèŠ‚ç‚¹â€ä¸å†æ˜¯ä¼ ç»ŸæœåŠ¡ï¼Œè€Œæ˜¯å¤§é‡è‡ªæ²»çš„æ™ºèƒ½ä½“ï¼ˆagentsï¼‰ã€‚å³ä¸€ä¸ªä»¥â€œå¤šæ™ºèƒ½ä½“â€ä¸ºå·¥ä½œè´Ÿè½½çš„ã€äº‹ä»¶é©±åŠ¨çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼ˆdistributed multi-agent system infrastructureï¼‰
- Agent-Kernel çš„å…³é”®åœ¨äºï¼šå¹¶è¡Œçš„æ˜¯â€œå†³ç­–â€ï¼Œè€Œä¸æ˜¯â€œä¸–ç•Œä¿®æ”¹æƒâ€ã€‚agent æ˜¯ æ— å†™æƒé™çš„ workerï¼ŒKernel æ˜¯ å”¯ä¸€æœ‰ä¸–ç•Œå†™æƒé™çš„ authorityï¼Œå³ä¸»ä»å¼ï¼ˆmasterâ€“workerï¼‰åˆ†å¸ƒå¼æ¶æ„
- ä»`Agent ç›´æ¥ä¿®æ”¹ä¸–ç•ŒçŠ¶æ€`å˜ä¸º`Agent â†’ æäº¤ Action Proposal=>System â†’ æ ¡éªŒ â†’ æ‰§è¡Œ / æ‹’ç»`

| GenerativeAgentsCN | Agent-Kernel é£æ ¼    |
| ------------------ | ------------------ |
| ä¸–ç•ŒçŠ¶æ€ = Python å¯¹è±¡   | ä¸–ç•ŒçŠ¶æ€ = å…±äº«çŠ¶æ€ / çŠ¶æ€æœåŠ¡ |
| agent ç›´æ¥å†™          | agent é€šè¿‡åè®®è¯·æ±‚ä¿®æ”¹     |
| é»˜è®¤å¼ºä¸€è‡´              | å¯é…ç½®ä¸€è‡´æ€§æ¨¡å‹           |

**ä¸€ä¸ªæ€»ç»“å¯¹æ¯”ï¼š**
- ğŸ¤–generative_agents:
```text

for step in simulation:
    for agent in agents:
        agent.observe()
        agent.think()
        agent.act()   # ç›´æ¥æ”¹ä¸–ç•Œ
        
```

- ğŸ¤–Agent-Kernel
```text
[äº‹ä»¶] æ—¶é—´ +1
        â†“
Kernel åˆ¤æ–­å“ªäº› agent éœ€è¦å“åº”
        â†“
æŠŠ 3,000 ä¸ª agent çš„â€œå†³ç­–ä»»åŠ¡â€
åˆ†å‘åˆ°ä¸åŒæœºå™¨å¹¶è¡Œæ‰§è¡Œ
        â†“
Agent_i â†’ ç”Ÿæˆ action proposal
        â†“
Kernel æ ¡éªŒ â†’ æ›´æ–°ä¸–ç•Œ
```


